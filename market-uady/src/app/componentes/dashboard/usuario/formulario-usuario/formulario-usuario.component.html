<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<div class="header">
</div>
<div class="contenedorForm">
  <div class="editarPerfil">
    Editar Perfil
  </div>
  <div class="d-flex justify-content-center align-items-center" style="height: 80%;">
    <form class="row g-2" [formGroup]="formulario" (ngSubmit)="guardarUsuario()">
      <div class="col-12">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" formControlName="nombres" readonly class="form-control camposFormulario nombre-desabilitado" [value]="perfil.nombres + ' ' + perfil.apellidos">      </div>
    
      <div class="col-12">
        <label for="facultad">Facultad de Pertenencia:</label>
        <select class="form-select camposFormulario" id="facultad" name="facultad" formControlName="idFacultad" required>
          <option *ngFor="let facultad of facultades" [value]="facultad.idFacultad">{{ facultad.nombre }}</option>
        </select>
      </div>
      
      <div class="col-12">
        <label for="correo">Correo institucional:</label>
        <input type="text" id="correo" name="correo" [value]="getCorreoFormateado(perfil.matricula)" readonly class="form-control camposFormulario nombre-desabilitado">      </div>

      <div class="col-12">
        <label for="numeroContacto">NÃºmero de contacto:</label>
        <input type="text" id="numeroContacto" name="numeroContacto" formControlName="numeroContacto" class="form-control camposFormulario">
      </div>

      <div class="col-12">
        <label class="form-label">Foto de perfil</label>
        <input type="file" 
        class="form-control form-control-file" 
        (change)="onFileSelected($event)" 
        [(ngModel)]="perfil.imagenPerfil" 
        accept="image/jpeg, image/png, image/gif" 
        formControlName="imagenPerfil" />
      </div>
      <div class="col-12">
        <img [src]="perfil.imagenPerfil" alt="Foto de perfil" class="img-fluid" />
      </div>

      <div class="col-12">
        <div class="d-grid gap-2">
          <button type="button" class="btn" (click)="guardarUsuario()">Guardar cambios</button>
        </div>
      </div>
    </form>
  </div>
</div>

